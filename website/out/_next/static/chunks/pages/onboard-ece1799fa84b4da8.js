(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{990:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboard",function(){return s(3734)}])},9555:function(e,t,s){"use strict";var r=s(5893),a=s(7294),n=s(1163),o=s(4926);t.Z=e=>{let{children:t}=e,s=(0,n.useRouter)(),{user:i,loading:d}=(0,a.useContext)(o.AuthContext);return((0,a.useEffect)(()=>{d||i||s.push("/login?redirect=".concat(encodeURIComponent(s.asPath)))},[i,d,s]),d)?(0,r.jsx)("div",{className:"min-h-screen flex justify-center items-center bg-gray-50",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?t:null}},3734:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var r=s(5893),a=s(7294),n=s(2191),o=s(8119),i=s(9475),d=s(7741),l=s(5167),c=s(9555),m=s(1163),p=s(4926),u=s(6450),x=s(5369),h=s(109),y=s(2474),b=s.n(y);s(1876).Buffer,s(3454);let g=[{name:"Red",value:"#ef4444"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Orange",value:"#f97316"},{name:"Gray",value:"#6b7280"},{name:"Black",value:"#111827"}],f=[{id:"step1",name:"Company Details",description:"Add domain & company name"},{id:"step2",name:"Payment Integration",description:"Connect payment processor"},{id:"step3",name:"Get Code Snippet",description:"Get your custom code"},{id:"step4",name:"Test & Verify",description:"Test in sandbox mode"}];function j(){let e=(0,m.useRouter)(),{user:t}=(0,a.useContext)(p.AuthContext),[s,c]=(0,a.useState)("step1"),[y,j]=(0,a.useState)({companyName:"",domain:"",paymentProcessor:"stripe",stripeApiKey:"",paddleApiKey:"",paddleVendorId:"",customBranding:!1,buttonText:"Cancel subscription",buttonColor:"#ef4444",testMode:!0}),[N,v]=(0,a.useState)({}),[w,C]=(0,a.useState)(!1),[k,P]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(t){console.log("=== USER DEBUG ==="),console.log("User:",t),console.log("User ID:",null==t?void 0:t.uid),console.log("User email:",null==t?void 0:t.email);try{let s=(0,h.hJ)(x.db,"vendors"),r=query(s,where("userId","==",t.uid));(await getDocs(r)).empty||(console.log("User has already completed setup, redirecting to dashboard..."),e.push("/dashboard"))}catch(e){console.error("Error checking user setup:",e)}}})()},[t,e]);let A=f.findIndex(e=>e.id===s),I=e=>{let{name:t,value:s,type:r,checked:a}=e.target;j({...y,[t]:"checkbox"===r?a:s}),N[t]&&v({...N,[t]:null})},_=()=>{let e={};return"step1"!==s||(y.companyName.trim()||(e.companyName="Company name is required"),y.domain.trim()?/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(y.domain.trim())||(e.domain="Please enter a valid domain (e.g., example.com)"):e.domain="Domain is required"),"step2"!==s||("stripe"!==y.paymentProcessor||y.stripeApiKey.trim()?"stripe"!==y.paymentProcessor||y.stripeApiKey.startsWith("sk_")||(e.stripeApiKey="Invalid Stripe API key format"):e.stripeApiKey="Stripe API key is required","paddle"!==y.paymentProcessor||(y.paddleApiKey.trim()||(e.paddleApiKey="Paddle Auth Code is required"),y.paddleVendorId.trim()||(e.paddleVendorId="Paddle Vendor ID is required"))),v(e),0===Object.keys(e).length},K=()=>b().randomBytes(16).toString("hex"),S=async()=>{C(!0),v({});try{if(!t)throw Error("No authenticated user found");console.log("=== DEBUGGING saveAndGoToDashboard ==="),console.log("User:",t),console.log("User ID:",t.uid);let s=t.uid,r=K(),a={companyName:y.companyName,domain:y.domain,processor:y.paymentProcessor,userId:s,customBranding:y.customBranding,buttonText:y.buttonText,buttonColor:y.buttonColor,testMode:y.testMode,createdAt:new Date,updatedAt:new Date};"stripe"===y.paymentProcessor?a.stripeKey=y.stripeApiKey:"paddle"===y.paymentProcessor&&(a.paddleApiKey=y.paddleApiKey,a.paddleVendorId=y.paddleVendorId),"paddle"===y.paymentProcessor?a.DEBUG_RAW_PADDLE_KEY=y.paddleApiKey:"stripe"===y.paymentProcessor&&(a.DEBUG_RAW_STRIPE_KEY=y.stripeApiKey),console.log("Saving vendor data to Firestore:",{...a,vendorKey:r}),await (0,h.pl)((0,h.JU)(x.db,"vendors",r),a),console.log("Vendor data saved successfully with key:",r),P(r),e.push("/dashboard")}catch(e){console.error("Error saving vendor data:",e),v({submit:e.message}),alert("Error saving your information: ".concat(e.message||"Unknown error",". Please try again."))}finally{C(!1)}};return(0,r.jsx)(n.Z,{title:"Onboarding Wizard - CancelKit",children:(0,r.jsxs)("div",{className:"bg-white min-h-screen",children:[(0,r.jsx)("div",{className:"bg-primary-600 text-white py-12",children:(0,r.jsx)("div",{className:"container-custom",children:(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Set Up CancelKit"}),(0,r.jsx)("p",{className:"text-primary-100 max-w-3xl",children:"Follow these simple steps to integrate CancelKit with your website"})]})})})}),(0,r.jsxs)("div",{className:"container-custom py-12",children:[(0,r.jsx)("nav",{"aria-label":"Progress",children:(0,r.jsx)("ol",{className:"flex items-center",children:f.map((e,t)=>(0,r.jsxs)("li",{className:"relative flex-1 ".concat(0!==t?"ml-6":""),children:[0!==t&&(0,r.jsx)("div",{className:"absolute left-0 -ml-6 top-4 -mt-0.5 w-6","aria-hidden":"true",children:(0,r.jsx)("div",{className:"h-0.5 w-full ".concat(A>t-1?"bg-primary-600":"bg-gray-200")})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full ".concat(A>t?"bg-primary-600":A===t?"bg-primary-600 border-2 border-primary-600":"bg-white border-2 border-gray-300"),children:A>t?(0,r.jsx)(o.Z,{className:"h-5 w-5 text-white","aria-hidden":"true"}):(0,r.jsx)("span",{className:"text-sm font-semibold ".concat(A===t?"text-white":"text-gray-500"),children:t+1})}),(0,r.jsxs)("div",{className:"hidden sm:block mt-3 text-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 block",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]})]},e.id))})}),(0,r.jsxs)("div",{className:"mt-16 md:mt-24 max-w-3xl mx-auto",children:["step1"===s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Step 1: Company Details"}),(0,r.jsx)("p",{className:"text-secondary-600 mb-8",children:"Let's start by collecting some basic information about your company."}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"companyName",className:"block text-sm font-medium text-secondary-700 mb-1",children:"Company Name"}),(0,r.jsx)("input",{type:"text",name:"companyName",id:"companyName",value:y.companyName,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ".concat(N.companyName?"border-red-300":""),placeholder:"Your Company, Inc."}),N.companyName&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:N.companyName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"domain",className:"block text-sm font-medium text-secondary-700 mb-1",children:"Website Domain"}),(0,r.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,r.jsx)("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm",children:"https://"}),(0,r.jsx)("input",{type:"text",name:"domain",id:"domain",value:y.domain,onChange:I,className:"block w-full flex-1 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm ".concat(N.domain?"border-red-300":""),placeholder:"example.com"})]}),N.domain&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:N.domain})]})]})]}),"step2"===s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Step 2: Payment Integration"}),(0,r.jsx)("p",{className:"text-secondary-600 mb-8",children:"Connect your payment processor to enable automatic subscription cancellations."}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Payment Processor"}),(0,r.jsxs)("div",{className:"mt-1 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"stripe",name:"paymentProcessor",type:"radio",value:"stripe",checked:"stripe"===y.paymentProcessor,onChange:I,className:"h-4 w-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,r.jsx)("label",{htmlFor:"stripe",className:"ml-3 block text-sm font-medium text-gray-700",children:"Stripe"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"paddle",name:"paymentProcessor",type:"radio",value:"paddle",checked:"paddle"===y.paymentProcessor,onChange:I,className:"h-4 w-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,r.jsx)("label",{htmlFor:"paddle",className:"ml-3 block text-sm font-medium text-gray-700",children:"Paddle"})]})]})]}),"stripe"===y.paymentProcessor&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"stripeApiKey",className:"block text-sm font-medium text-secondary-700 mb-1",children:"Stripe Secret Key"}),(0,r.jsx)("input",{type:"text",name:"stripeApiKey",id:"stripeApiKey",value:y.stripeApiKey,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ".concat(N.stripeApiKey?"border-red-300":""),placeholder:"sk_test_..."}),N.stripeApiKey?(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:N.stripeApiKey}):(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Your API key is securely stored and encrypted. Find your API keys in the"," ",(0,r.jsx)("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-500",children:"Stripe Dashboard"}),"."]})]}),"paddle"===y.paymentProcessor&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paddleApiKey",className:"block text-sm font-medium text-secondary-700 mb-1",children:"Paddle Auth Code"}),(0,r.jsx)("input",{type:"text",name:"paddleApiKey",id:"paddleApiKey",value:y.paddleApiKey,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ".concat(N.paddleApiKey?"border-red-300":""),placeholder:"Your Paddle Auth Code"}),N.paddleApiKey?(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:N.paddleApiKey}):(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Your Auth Code is securely stored and encrypted. Find it in the"," ",(0,r.jsx)("a",{href:"https://vendors.paddle.com/authentication",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-500",children:"Paddle Dashboard"})," ","under Developer → Authentication."]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paddleVendorId",className:"block text-sm font-medium text-secondary-700 mb-1",children:"Paddle Vendor ID"}),(0,r.jsx)("input",{type:"text",name:"paddleVendorId",id:"paddleVendorId",value:y.paddleVendorId,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ".concat(N.paddleVendorId?"border-red-300":""),placeholder:"Your Paddle Vendor ID"}),N.paddleVendorId?(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:N.paddleVendorId}):(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Your Vendor ID is found in the"," ",(0,r.jsx)("a",{href:"https://vendors.paddle.com/authentication",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-500",children:"Paddle Dashboard"})," ","under Developer → Authentication."]})]})]})]})]}),"step3"===s&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Customize Your Cancel Button"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{htmlFor:"buttonText",className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Recommended: Keep it short and clear"})]}),(0,r.jsx)("input",{type:"text",id:"buttonText",name:"buttonText",value:y.buttonText,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Button Preview"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 flex items-center",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),"Customize appearance"]})]}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)("div",{className:"bg-white p-4 rounded-md border border-gray-200 w-full mb-4 flex justify-center",children:(0,r.jsx)("button",{style:{backgroundColor:y.buttonColor},className:"px-4 py-2 text-white font-medium rounded shadow-sm hover:opacity-90 transition-opacity",children:y.buttonText})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{htmlFor:"buttonColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Color"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"color",id:"colorPicker",value:y.buttonColor,onChange:e=>I({target:{name:"buttonColor",value:e.target.value}}),className:"h-8 w-8 rounded border border-gray-300 cursor-pointer"}),(0,r.jsx)("input",{type:"text",id:"buttonColor",name:"buttonColor",value:y.buttonColor,onChange:I,className:"ml-2 w-24 border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsx)("div",{className:"mt-3 grid grid-cols-8 gap-2",children:g.map(e=>(0,r.jsx)("div",{className:"h-8 w-full rounded cursor-pointer border ".concat(y.buttonColor===e.value?"ring-2 ring-offset-2 ring-primary-500":"border-gray-300"),style:{backgroundColor:e.value},onClick:()=>I({target:{name:"buttonColor",value:e.value}}),title:e.name},e.value))})]}),(0,r.jsxs)("div",{className:"relative flex items-start",children:[(0,r.jsx)("div",{className:"flex items-center h-5",children:(0,r.jsx)("input",{id:"customBranding",name:"customBranding",type:"checkbox",checked:y.customBranding,onChange:I,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),(0,r.jsxs)("div",{className:"ml-3 text-sm",children:[(0,r.jsx)("label",{htmlFor:"customBranding",className:"font-medium text-gray-700",children:"Enable Custom Branding"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Customize modal title, message, and button text"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200 mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Code Snippet"}),k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-md overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gray-700 px-4 py-2 text-xs text-gray-200",children:"HTML/JavaScript"}),(0,r.jsx)("pre",{className:"p-4 text-gray-100 text-xs overflow-x-auto",children:(()=>{let e=k||"".concat(y.companyName.toLowerCase().replace(/[^a-z0-9]/g,"_"),"_placeholder");return(0,u.P)(e,y.paymentProcessor,{buttonText:y.buttonText,testMode:y.testMode})})()})]}),(0,r.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:"This code snippet is ready to use and contains your unique vendor key."})]}):(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(l.Z,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Code snippet will be available after setup"}),(0,r.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Complete step 4 to save your configuration and get your unique code snippet with the correct vendor key."})]})]})})]})]}),"step4"===s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Step 4: Test & Verify"}),(0,r.jsx)("p",{className:"text-secondary-600 mb-8",children:"Test your integration in sandbox mode before going live."}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"testMode",name:"testMode",type:"checkbox",checked:y.testMode,onChange:I,className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,r.jsx)("label",{htmlFor:"testMode",className:"ml-3 block text-sm font-medium text-gray-700",children:"Enable test mode (recommended for initial setup)"})]}),(0,r.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(l.Z,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm text-yellow-700",children:"In test mode, no actual cancellations will be processed. This allows you to safely test the integration."})})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-md",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Testing Instructions"}),(0,r.jsxs)("ol",{className:"list-decimal pl-5 space-y-3 text-secondary-600",children:[(0,r.jsx)("li",{children:"You can always find, customize, and copy your code snippet from your dashboard."}),(0,r.jsx)("li",{children:"Add the code snippet to your website (preferably in a staging environment)"}),(0,r.jsxs)("li",{children:["Ensure the target div ",(0,r.jsx)("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:'id="ck-target"'})," is present on your page"]}),(0,r.jsx)("li",{children:'Verify that the "Cancel subscription" button appears'}),(0,r.jsx)("li",{children:"Click the button and confirm that the cancellation modal appears"}),(0,r.jsx)("li",{children:'Test the cancellation flow by clicking "Yes, cancel"'}),(0,r.jsx)("li",{children:"Check your CancelKit dashboard to verify that the test cancellation was recorded"})]})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-6 rounded-md",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-green-800 mb-4",children:"Going Live"}),(0,r.jsx)("p",{className:"text-green-700 mb-4",children:"Once you've verified that everything is working correctly in test mode, you're ready to go live:"}),(0,r.jsxs)("ol",{className:"list-decimal pl-5 space-y-3 text-green-700",children:[(0,r.jsxs)("li",{children:["Set ",(0,r.jsx)("code",{className:"bg-green-100 px-1 py-0.5 rounded",children:"testMode: false"})," in your code snippet"]}),(0,r.jsx)("li",{children:"Deploy the updated code to your production environment"}),(0,r.jsx)("li",{children:"Perform a final test to ensure everything is working properly"})]})]}),(0,r.jsxs)("div",{className:"bg-primary-50 p-6 rounded-md",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-primary-800 mb-4",children:"Need Help?"}),(0,r.jsx)("p",{className:"text-primary-700 mb-4",children:"Our support team is available to help you with any questions or issues you may encounter during setup."})]})]})]}),(0,r.jsxs)("div",{className:"mt-12 flex justify-between",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{let e=A-1;e>=0&&c(f[e].id)},disabled:0===A,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 ".concat(0===A?"bg-gray-100 cursor-not-allowed":"bg-white hover:bg-gray-50"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),children:"Previous"}),A<f.length-1?(0,r.jsxs)("button",{type:"button",onClick:()=>{if(_()){let e=A+1;e<f.length&&c(f[e].id)}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:["Next",(0,r.jsx)(i.Z,{className:"ml-2 -mr-1 h-5 w-5","aria-hidden":"true"})]}):(0,r.jsx)("button",{onClick:S,disabled:w,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Complete Setup & Get Code"})]})]})]})]})})}function N(){return(0,r.jsx)(c.Z,{children:(0,r.jsx)(j,{})})}},6450:function(e,t,s){"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"paddle",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{buttonText:r,buttonColor:a,testMode:n,customBranding:o}=s;return"<!-- CancelReady Cancel Button - Just copy and paste this code where you want the button to appear -->\n<button \n  onclick=\"window.open('https://cancelready.web.app/cancel?vendorKey=".concat(e,"&subscriptionId=THE_END_USERS_ACTUAL_SUBSCRIPTION_ID&paymentProvider=").concat(t).concat(n?"&testMode=true":"").concat(o?"&customBranding=true":"","', '_blank')\"\n  style=\"background-color: ").concat(a||"#ef4444",'; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-family: system-ui, -apple-system, sans-serif; font-size: 14px;"\n  onmouseover="this.style.opacity=\'0.9\'"\n  onmouseout="this.style.opacity=\'1\'"\n>\n  ').concat(r||"Cancel subscription","\n</button>\n\n<!-- That's it! Just replace THE_END_USERS_ACTUAL_SUBSCRIPTION_ID with the user's actual subscription ID -->\n<!-- Example for Stripe: sub_1234567890 -->\n<!-- Example for Paddle: sub_123456 -->\n\n<!-- No JavaScript initialization required! -->")}function a(){return'\n<div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-4">\n  <p class="text-sm text-yellow-700">\n    <strong>Important:</strong> Replace <code>YOUR_USER_ID</code> with the user identifier that matches exactly how you\'ve stored it in your payment processor:\n  </p>\n  <ul class="list-disc ml-5 mt-2 text-sm text-yellow-700">\n    <li>For <strong>Stripe</strong>: Use the same ID stored in subscription metadata as \'userId\'</li>\n    <li>For <strong>Paddle</strong>: Use the same ID stored in subscription passthrough field as \'userId\'</li>\n  </ul>\n  <p class="text-sm text-yellow-700 mt-2">\n    If the user IDs don\'t match exactly, cancellation requests will fail.\n  </p>\n</div>'}s.d(t,{P:function(){return r},u:function(){return a}})}},function(e){e.O(0,[714,867,420,191,888,774,179],function(){return e(e.s=990)}),_N_E=e.O()}]);